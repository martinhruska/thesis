
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{tikzpicture}[node distance=1.2cm,>=stealth',bend angle=45,auto
,shorten >=1pt,shorten <=0.5pt,thin,->
,scale=0.9, every node/.style={transform shape}
]

  \tikzstyle{cell}=[circle,thick,draw=black,minimum size=5mm]
  \tikzstyle{red cell}=[circle,draw=red!75,fill=red!20,minimum size=5mm]
  \tikzstyle{data}=[rectangle,thick,draw=black!75,
  			  fill=black!20,minimum size=3mm]
  \tikzstyle{mylabel}=[inner sep=1.5pt]

%  \tikzstyle{every label}=[red]

  \begin{scope}%[mylabel/.style={scale=0.8}]%[every label/.style={scale=0.8}]
	
    % First net
    \node [red cell,label={[red,inner sep=1]above right:\figtext{1}},inner
    sep=0pt] (c1) {\texttt{x}};
    \node [cell] (c2) [below of=c1]               {};
    \node [red cell,label={[red,inner sep=1]above right:\figtext{2}}] (c3) [below of=c2]           {};
    \node [red cell,label={[red,inner sep=1]above right:\figtext{3}}] (c4) [below of=c3]           {};
    \node [cell] (c5) [below of=c4]               {};
    \node [data] (d1) [below left of=c1]          {};
    \node [data] (d2) [below left of=c2]          {};
    \node [data] (d3) [below left of=c3]          {};
    \node [data] (d4) [below left of=c4]          {};
    \node [data] (d5) [below left of=c5]          {};

    \node [red cell,label={[red,inner sep=1]above right:\figtext{4}},inner
    sep=0pt] (c6) [right=11mm of c1] {\texttt{y}};
    \node [cell] (c7) [below of=c6]               {};
    \node [data] (d6) [below right of=c6]          {};
    \node [data] (d7) [below right of=c7]          {};

    \node [cell] (c8) [right=11mm of c5] {};
    \node [data] (d8) [below right of=c8]          {};


	\path (c1)  edge node [mylabel] {\figtext{next}} (c2)
		  (c2) edge  node [mylabel] {\figtext{next}} (c3)
		  (c3) edge  node [mylabel] {\figtext{next}} (c4)
		  (c4) edge  node [mylabel] {\figtext{next}} (c5)
		  (c6) edge  node [mylabel,swap] {\figtext{next}} (c7)

		  (c1) edge  node [mylabel,swap] {\figtext{data}} (d1)
		  (c2) edge  node [mylabel,swap] {\figtext{data}} (d2)
		  (c3) edge  node [mylabel,swap] {\figtext{data}} (d3)
		  (c4) edge  node [mylabel,swap] {\figtext{data}} (d4)
		  (c5) edge  node [mylabel,swap] {\figtext{data}} (d5)
		  (c6) edge  node [mylabel] {\figtext{data}} (d6)
		  (c7) edge  node [mylabel] {\figtext{data}} (d7)
		  (c8) edge  node [mylabel] {\figtext{data}} (d8)

%		  (c7) edge [bend left=40] node  {\figtext{next}} (c3)
%		  (c8) edge [bend right=40] node [mylabel,swap] {\figtext{next}} (c4)
		  (c5) edge node [mylabel,swap] {\figtext{next}} (c8)
;

		  \draw [->] (c8) .. controls +(up:13mm) and +(right:17.5mm) .. node [mylabel,swap,inner sep=1pt]  {\figtext{next}} (c4) ;
		  \draw [->] (c7) .. controls +(down:13mm) and +(right:17.5mm) .. node [mylabel,inner sep=1pt]  {\figtext{next}} (c3) ;
  \end{scope}

\end{tikzpicture}
