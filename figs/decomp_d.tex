
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{tikzpicture}[node distance=1.8cm,>=stealth',bend angle=45,auto
,shorten >=1pt,shorten <=0.5pt,thin,->
,scale=0.9, every node/.style={transform shape}
]

  \tikzstyle{cell}=[circle,thick,draw=black,minimum size=5mm]
  \tikzstyle{red cell}=[circle,draw=red!75,fill=red!20,minimum size=3mm]
  \tikzstyle{box}=[draw=green!60!black!80!blue,fill=black!5,swap,yshift=-4pt, inner sep=2pt,rounded corners=1.5pt]

%  \tikzstyle{every label}=[red]

  \begin{scope}%[mylabel/.style={scale=0.8}]%[every label/.style={scale=0.8}]
	
    % First net
    \node (c0) {};
    \node [cell,right of=c0,node distance=1cm] (c1) {};
    \node [cell,right of=c1] (c2) {};
    \node [cell,right of=c2] (c3) {};
    \node [cell,right of=c3] (c4) {};
    \node [right of=c4,node distance=1cm](c5) {};


	\begin{pgfonlayer}{background}
	\path 
         (c0) edge [dotted,thick,-] (c1)
         (c1) edge node [box] (b1) {\figtext{DLL}} (c2)
         (c2) edge node [box] (b2) {\figtext{DLL}} (c3)
         (c3) edge node [box] (b3) {\figtext{DLL}} (c4)
         (c4) edge [dotted,thick,-] (c5)
    ;
	\end{pgfonlayer}

    \node [red cell, below left of=b2,node distance=1cm,xshift=-0.8cm,yshift=-0.5cm] (c6) {};
    \node [red cell, below right of=b2, node distance=1cm,xshift=-0.8cm,yshift=-0.5cm] (c7) {};

    \path
         (c6) edge [bend left=15] node [inner sep=2pt] (bla1) {\figtext{next}} (c7)
         (c7) edge [bend left=15] node [inner sep=2pt] (bla2) {\figtext{prev}} (c6)
    ;

	\begin{pgfonlayer}{background}
	\node [fit=(c6) (c7) (bla1) (bla2),rounded corners=3pt,inner sep=3pt] (big) {};

    \path
      (b2.north west) edge [dashed,-] (big.north west)
      (b2.north east) edge [dashed,-] (big.north east)
      (b2.south west) edge [dashed,-] (big.south west)
      (b2.south east) edge [dashed,-] (big.south east)
    ;

	\node [draw=green!60!black!80!blue,fill=black!5,fit=(c6) (c7) (bla1) (bla2),rounded corners=3pt,inner sep=3pt] {};
	\end{pgfonlayer}

  \end{scope}

\end{tikzpicture}
